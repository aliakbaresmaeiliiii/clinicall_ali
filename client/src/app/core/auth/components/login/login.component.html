<app-auth-layout>
  <div class="login-container">
    <div class="login-card">
      <!-- Header Section -->
      <div class="login-header">
        <div class="logo-section">
          <div class="logo-icon">
            <mat-icon>local_hospital</mat-icon>
          </div>
          <h1 class="app-title">Clinical Ali</h1>
        </div>
        <p class="welcome-text">Welcome back! Please sign in to your account</p>
      </div>

      <!-- Role Selection -->
      <div class="role-selection">
        <h3 class="role-title">I am a</h3>
        <div class="role-buttons">
          <button
            [ngClass]="{ 'role-active': selectedRole === 'clinic' }"
            class="role-button"
            type="button"
            (click)="setRole('clinic')">
            <mat-icon>business</mat-icon>
            <span>Clinic</span>
          </button>
          <button
            [ngClass]="{ 'role-active': selectedRole === 'doctor' }"
            class="role-button"
            type="button"
            (click)="setRole('doctor')">
            <mat-icon>medical_services</mat-icon>
            <span>Doctor</span>
          </button>
          <button
            [ngClass]="{ 'role-active': selectedRole === 'patient' }"
            class="role-button"
            type="button"
            (click)="setRole('patient')">
            <mat-icon>person</mat-icon>
            <span>Patient</span>
          </button>
        </div>
      </div>

      <!-- Login Form -->
      <form [formGroup]="form" (ngSubmit)="login()" class="login-form">
        <div class="form-group">
          <mat-form-field appearance="outline" class="full-width">
            <mat-label>{{ labelUserName }}</mat-label>
            <input
              type="text"
              matInput
              [errorStateMatcher]="matcher"
              formControlName="email"
              placeholder="Enter your email" />
            <mat-icon matSuffix>email</mat-icon>
            @if (email?.hasError('email') && !email?.hasError('required')) {
            <mat-error>Please enter a valid email address</mat-error>
            } @if (email?.hasError('required')) {
            <mat-error>Email is <strong>required</strong></mat-error>
            }
          </mat-form-field>
        </div>

        <div class="form-group">
          <mat-form-field appearance="outline" class="full-width">
            <mat-label>{{ labelPassword }}</mat-label>
            <input
              type="password"
              matInput
              [errorStateMatcher]="matcher"
              formControlName="password"
              placeholder="Enter your password" />
            <mat-icon matSuffix>lock</mat-icon>
            @if (password?.hasError('required')) {
            <mat-error>Password is <strong>required</strong></mat-error>
            }
          </mat-form-field>
        </div>

        <div class="form-options">
          <mat-checkbox formControlName="remmeber" class="remember-checkbox">
            Remember me
          </mat-checkbox>
          <a
            [routerLink]="['/auth/forgot-password']"
            class="forgot-password-link">
            Forgot Password?
          </a>
        </div>

        <button
          class="login-button"
          mat-flat-button
          [disabled]="!form.valid"
          color="primary"
          type="submit">
          <mat-icon>login</mat-icon>
          <span>Sign In</span>
        </button>
      </form>

      <!-- Divider -->
      <div class="divider">
        <span class="divider-text">OR</span>
      </div>

      <!-- Social Login -->
      <div class="social-login">
        <div id="google-btn" class="google-signin"></div>
      </div>

      <!-- Register Link -->
      <div class="register-section">
        <p class="register-text">
          Don't have an account?
          <a routerLink="/auth/register" class="register-link">
            Create Account
          </a>
        </p>
      </div>
    </div>
  </div>
</app-auth-layout>
