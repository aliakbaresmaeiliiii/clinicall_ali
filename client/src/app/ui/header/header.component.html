<app-scroll-progress-bar />

<div
  class="flex justify-between p-8 fixed z-10 top-0 w-full"
  [@bgColorChange]="bgColor">
  <div class="col-span-2 flex justify-center items-center">
    <div class="w-36 h-auto">
      @if (navbarVisible()) {
      <a href="/home">
        <img
          src="../../../assets/images/icons/ui/logo.png"
          width="100%"
          height="100%"
          alt="" />
      </a>
      }@else{
      <a href="/">
        <img
          src="../../../assets/images/icons/ui/logo2.png"
          width="100%"
          height="100%"
          alt="" />
      </a>
      }
    </div>
  </div>

  <div class="col-span-8 flex justify-center items-center">
    <div class="menu bg-gray-200 rounded-2xl">
      <div class="item">
        <a class="link">
          <span> Categories of Specializations </span>
          <svg viewBox="0 0 360 360" xml:space="preserve">
            <g id="SVGRepo_iconCarrier">
              <path
                id="XMLID_225_"
                d="M325.607,79.393c-5.857-5.857-15.355-5.858-21.213,0.001l-139.39,139.393L25.607,79.393 c-5.857-5.857-15.355-5.858-21.213,0.001c-5.858,5.858-5.858,15.355,0,21.213l150.004,150c2.813,2.813,6.628,4.393,10.606,4.393 s7.794-1.581,10.606-4.394l149.996-150C331.465,94.749,331.465,85.251,325.607,79.393z"></path>
            </g>
          </svg>
        </a>

        <div class="submenu grid grid-cols-8 gap-4">
          <div class="submenu-item col-span-2 ...">
            <div class="submenu-item grid-cols-1 overflow-scroll h-80">
              @for (menu of dentistryCategories; track $index) {
              <div class="">
                <a
                  routerLink="/services"
                  class="submenu-link"
                  (mouseover)="toggleCategory($index)">
                  <span>
                    {{ menu.title }}
                  </span>
                  <span>
                    <svg
                      viewBox="0 0 24 24"
                      xmlns="http://www.w3.org/2000/svg"
                      xml:space="preserve"
                      width="24px"
                      height="24px">
                      <g id="SVGRepo_iconCarrier">
                        <path
                          d="M8.29 16.29a1 1 0 010-1.41L12.88 10 8.29 5.71a1 1 0 111.41-1.41l5 5a1 1 0 010 1.41l-5 5a1 1 0 01-1.41 0z" />
                      </g>
                    </svg>
                  </span>
                </a>
              </div>
              }
            </div>
          </div>
          <div class="grid grid-cols-3 gap-4 col-span-6 p-4 h-5">
            <ng-container *ngIf="hoveredCategoryIndex !== null">
              <a
                *ngFor="
                  let treatment of dentistryCategories[hoveredCategoryIndex]
                    .treatments
                "
                href="#"
                class="text-gray-800 px-4 py-2 rounded-lg hover:text-white hover:bg-[#2563EB] transition-colors block">
                {{ treatment }}
              </a>
            </ng-container>
          </div>
        </div>

        <!-- <div class="submenu border-r-2 grid grid-cols-1">
       

            @for (item of menu.treatments; track $index) { @if (item) {
            <div class="submenu grid-cols-5">
              <div class="submenu-item">
                <a href="#" class="submenu-link"> Development </a>
              </div>
              <div class="submenu-item">
                <a href="#" class="submenu-link"> Design </a>
              </div>
              <div class="submenu-item">
                <a href="#" class="submenu-link"> Marketing </a>
              </div>
              <div class="submenu-item">
                <a href="#" class="submenu-link"> SEO </a>
              </div>
            </div>
            } } 
        </div> -->
      </div>
      <div class="item">
        <a routerLink="/about-us" class="link">
          <span> About Us </span>
        </a>
      </div>
      <div class="item">
        <a href="#" class="link">
          <span> Our Services </span>
          <!-- <svg viewBox="0 0 360 360" xml:space="preserve">
            <g id="SVGRepo_iconCarrier">
              <path
                id="XMLID_225_"
                d="M325.607,79.393c-5.857-5.857-15.355-5.858-21.213,0.001l-139.39,139.393L25.607,79.393 c-5.857-5.857-15.355-5.858-21.213,0.001c-5.858,5.858-5.858,15.355,0,21.213l150.004,150c2.813,2.813,6.628,4.393,10.606,4.393 s7.794-1.581,10.606-4.394l149.996-150C331.465,94.749,331.465,85.251,325.607,79.393z"></path>
            </g>
          </svg> -->
        </a>
        <!-- <div class="submenu">
          <div class="submenu-item">
            <a href="#" class="submenu-link"> Development </a>
          </div>
          <div class="submenu-item">
            <a href="#" class="submenu-link"> Design </a>
          </div>
          <div class="submenu-item">
            <a href="#" class="submenu-link"> Marketing </a>
          </div>
          <div class="submenu-item">
            <a href="#" class="submenu-link"> SEO </a>
          </div>
        </div> -->
      </div>
    </div>
  </div>

  <div class="col-span-8 flex justify-center items-center">
    <div class="flex gap-2">
      @if (!userData) {
      <button dfButton appearance="solid" class="flex" (click)="loginUser()">
        Login users
        <i class="fa-solid fa-user"></i>
      </button>

      }@else {

      <div class="col-span-8 flex justify-center items-center">
        <button
          type="button"
          (click)="setAppointment()"
          class="flex justify-center gap-2 items-center mx-auto shadow-xl text-base bg-gray-50 backdrop-blur-md lg:font-semibold isolation-auto border-gray-50 before:absolute before:w-full before:transition-all before:duration-700 before:hover:w-full before:-left-full before:hover:left-0 before:rounded-full before:bg-blue-800 hover:text-gray-50 before:-z-10 before:aspect-square before:hover:scale-150 before:hover:duration-700 relative z-10 px-4 py-2 overflow-hidden border-2 rounded-full group">
          Appointment
          <svg
            class="w-8 h-8 justify-end group-hover:rotate-90 group-hover:bg-gray-50 text-gray-50 ease-linear duration-300 rounded-full border border-gray-700 group-hover:border-none p-2 rotate-45"
            viewBox="0 0 16 19"
            xmlns="http://www.w3.org/2000/svg">
            <path
              d="M7 18C7 18.5523 7.44772 19 8 19C8.55228 19 9 18.5523 9 18H7ZM8.70711 0.292893C8.31658 -0.0976311 7.68342 -0.0976311 7.29289 0.292893L0.928932 6.65685C0.538408 7.04738 0.538408 7.68054 0.928932 8.07107C1.31946 8.46159 1.95262 8.46159 2.34315 8.07107L8 2.41421L13.6569 8.07107C14.0474 8.46159 14.6805 8.46159 15.0711 8.07107C15.4616 7.68054 15.4616 7.04738 15.0711 6.65685L8.70711 0.292893ZM9 18L9 1H7L7 18H9Z"
              class="fill-gray-800 group-hover:fill-gray-800"></path>
          </svg>
        </button>
      </div>
      }
      <button dfButton appearance="solid" class="flex">
        Login Doctors
        <i class="fa-solid fa-user"></i>
      </button>

    </div>
  </div>
  <div class="col-span-2 flex justify-center items-center gap-4">
    <button mat-icon-button matTooltip="View Detail">
      <i class="fa-solid fa-magnifying-glass text-blue-600"></i>
    </button>
    <div
      class="p-4 bg-blue-600 w-14 h-14 rounded-full cursor-pointer ease-in duration-300">
      <i
        class="fa-solid fa-bars text-white text-center text-2xl"
        (click)="drawer.emit(false)"></i>
    </div>
  </div>
</div>
