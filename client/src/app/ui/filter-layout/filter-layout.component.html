<generic-tab
  class="mt-9"
  [tabs]="tabs"
  (tabTitle)="handleTabChangeTitle($event)"
  (onChangeValueInput)="handleChangeValueInput($event)"
  (onDeleteValue)="handleTabChange($event)">
  <div class="grid grid-cols-2 gap-4">
    @for (data of tabData(); track $index ; let i = $index) {
    <div
      class="w-full min-w-[36rem] bg-white max-h-[22rem] dark:bg-gray-800 rounded-xl shadow-md overflow-hidden mx-auto">
      <div class="flex justify-between items-center px-6 py-4">
        <div class="flex space-x-4">
          <div
            class="relative flex items-center justify-center"
            [ngStyle]="{ width: 100 + 'px', height: 100 + 'px' }">
            <div
              class="absolute inset-0 bg-gradient-to-r rounded-full p-1 from-blue-400 via-blue-500 to-blue-600">
              <img
                [src]="data.profile_img"
                crossorigin="anonymous"
                class="w-full h-full object-cover object-[0_15%] rounded-full border-2 border-white shadow-lg"
                alt="Profile Image" />
            </div>
          </div>

          <div>
            <div class="flex justify-between max-w-96 min-w-96 ">
              <div class="flex flex-col gap-4 text-lg font-bold">
                <span> {{ data.first_name }}{{ data.last_name }} </span>
                <span class="opacity-75">
                  {{ data.specialty_name }}
                </span>
              </div>
              <div
                (click)="visitProfile(data)"
                class="cursor-pointer border-2 border-gray-100 flex items-center group  hover:border-gray-400 rounded-lg p-2 transition-all duration-300 ease-in-out">
                Visit Profile
                <mat-icon
                  class="menu-button ml-2 transform -translate-x-4 opacity-0 transition-all duration-300 ease-in-out group-hover:translate-x-0 group-hover:opacity-100">
                  chevron_right
                </mat-icon>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="flex items-center gap-4 text-xs text-gray-200 pl-6">
        <span class="flex items-center gap-1">
          <p class="text-gray-900 dark:text-gray-200">
            <strong>({{ data.click_count }}&nbsp;review)</strong>
          </p>

          <div class="flex gap-2 text-yellow-400">
            <ngx-stars
              [readonly]="true"
              [size]="1"
              [maxStars]="5"
              [initialStars]="data.average_rating"
              [wholeStars]="true"
              [color]="'#FFD700'"
              [customStarIcons]="urlIcon"></ngx-stars>
            <!-- <span style="font-weight: bold; font-size: 20px"
              >Rating is {{ ratingDisplay }} out of 5</span
            > -->
          </div>
          <!-- @for (star of [1,2,3,4,5]; track $index;let i = $index) {
       
          } -->
        </span>
        <span class="flex items-center gap-1 text-gray-900">
          <span *ngIf="data.user_suggestion_percentage">
            {{ data.user_suggestion_percentage | number : '1.0-1' }}%
            Recommended
          </span>
          <span>
            <svg
              [ngClass]="{
                'text-green-700': data.user_suggestion_percentage > 30,
                'text-red-700': data.user_suggestion_percentage <= 30
              }"
              fill="none"
              height="20"
              stroke="currentColor"
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              viewBox="0 0 20 20"
              width="20"
              xmlns="http://www.w3.org/2000/svg">
              <path
                d="M6.991 15.408V6.942c0-.334.1-.659.284-.934L9.55 2.625c.358-.542 1.25-.925 2.008-.642.816.275 1.358 1.192 1.183 2.009l-.433 2.725a.84.84 0 0 0 .175.65c.141.158.35.258.575.258h3.425c.658 0 1.225.267 1.558.733.317.45.375 1.034.167 1.625l-2.05 6.242c-.259 1.033-1.384 1.875-2.5 1.875h-3.25c-.558 0-1.342-.192-1.7-.55l-1.067-.825c-.408-.308-.65-.8-.65-1.317M4.342 5.317h-.858c-1.292 0-1.817.5-1.817 1.733v8.383c0 1.234.525 1.734 1.817 1.734h.858c1.292 0 1.817-.5 1.817-1.734V7.05c0-1.233-.525-1.733-1.817-1.733"></path>
            </svg>
          </span>
        </span>
        <span class="flex items-center gap-1 text-gray-900">
          <span> 56235 Successful turn in yourDoctor </span>
          <span>
            <img
              src="../../../assets/images/ui/svg/checkmark-circle-svgrepo-com.svg"
              class="pt-1"
              alt="" />
          </span>
        </span>
      </div>

      <div class="px-6 py-4">
        <div
          class="text-sm text-gray-800 dark:text-gray-200 border border-gray-300 dark:border-gray-700 rounded-lg p-2 flex items-center opacity-90">
          <i class="fa-solid fa-location-dot text-red-500 text-lg mr-2"></i>
          <span class="truncate">
            {{ data.addresses.city }}
          </span>
        </div>
      </div>
      <div class="flex justify-end mr-2 mb-2">
        <button
          type="button"
          (click)="onlineConsultationDialog(data, '400ms', '300ms')"
          class="flex justify-start text-sm gap-2 shadow-xl bg-gray-50 backdrop-blur-md lg:font-semibold isolation-auto border-gray-50 before:absolute before:w-full before:transition-all before:duration-700 before:hover:w-full before:-left-full before:hover:left-0 before:rounded-full before:bg-blue-800 hover:text-gray-600 before:-z-10 before:aspect-square before:hover:scale-150 before:hover:duration-700 relative z-10 px-3 py-1 overflow-hidden border-2 rounded-full group">
          <span class="pt-1"> Online Consultation </span>
          <svg
            class="w-8 h-8 justify-end group-hover:rotate-90 group-hover:bg-gray-50 text-gray-50 ease-linear duration-300 rounded-full border border-gray-700 group-hover:border-none p-2 rotate-45"
            viewBox="0 0 16 19"
            xmlns="http://www.w3.org/2000/svg">
            <path
              d="M7 18C7 18.5523 7.44772 19 8 19C8.55228 19 9 18.5523 9 18H7ZM8.70711 0.292893C8.31658 -0.0976311 7.68342 -0.0976311 7.29289 0.292893L0.928932 6.65685C0.538408 7.04738 0.538408 7.68054 0.928932 8.07107C1.31946 8.46159 1.95262 8.46159 2.34315 8.07107L8 2.41421L13.6569 8.07107C14.0474 8.46159 14.6805 8.46159 15.0711 8.07107C15.4616 7.68054 15.4616 7.04738 15.0711 6.65685L8.70711 0.292893ZM9 18L9 1H7L7 18H9Z"
              class="fill-gray-800 group-hover:fill-gray-800"></path>
          </svg>
        </button>
      </div>

      <div
        class="flex justify-between items-center space-x-4 pt-4 border-t border-gray-200 dark:border-gray-700 p-4">
        <div class="flex items-center space-x-4">
          <!-- <svg
            class="h-4 w-4 text-gray-500 dark:text-gray-200"
            fill="none"
            height="24"
            stroke="currentColor"
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            viewBox="0 0 24 24"
            width="24"
            xmlns="http://www.w3.org/2000/svg">
            <path d="M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8"></path>
            <path d="M21 3v5h-5"></path>
            <path
              d="M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16"></path>
            <path d="M8 16H3v5"></path>
          </svg> -->
          <svg
            (click)="toggleLike(data, i)"
            [class.text-red-500]="data.isLiked"
            [class.text-gray-500]="!data.isLiked"
            [attr.fill]="data.isLiked ? 'currentColor' : 'none'"
            class="cursor-pointer"
            height="24"
            stroke="currentColor"
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            viewBox="0 0 24 24"
            width="24"
            xmlns="http://www.w3.org/2000/svg">
            <path
              d="M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z"></path>
          </svg>
          <svg
            (click)="shareInfo(data)"
            class="h-4 w-4 text-gray-500 dark:text-gray-200"
            fill="none"
            height="24"
            stroke="currentColor"
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            viewBox="0 0 24 24"
            width="24"
            xmlns="http://www.w3.org/2000/svg">
            <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
            <polyline points="17 8 12 3 7 8"></polyline>
            <line x1="12" x2="12" y1="3" y2="15"></line>
          </svg>
        </div>
        <div class="flex items-center space-x-4">
          <svg
            class="h-4 w-4 text-gray-500 dark:text-gray-200"
            fill="none"
            height="24"
            stroke="currentColor"
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            viewBox="0 0 24 24"
            width="24"
            xmlns="http://www.w3.org/2000/svg">
            <circle cx="12" cy="12" r="1"></circle>
            <circle cx="19" cy="12" r="1"></circle>
            <circle cx="5" cy="12" r="1"></circle>
          </svg>
          <a (click)="toggleFavorite(data.id, i)">
            <svg
              [class.text-red-500]="favoriteStates[i]"
              [class.text-gray-500]="!favoriteStates[i]"
              [class.bg-blue-500]="favoriteStates[i]"
              [attr.fill]="favoriteStates[i] ? 'currentColor' : 'none'"
              class="h-8 w-8 p-1 rounded text-gray-500 dark:text-gray-200 transition-all"
              fill="none"
              height="24"
              stroke="currentColor"
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              viewBox="0 0 24 24"
              width="24"
              xmlns="http://www.w3.org/2000/svg">
              <path
                d="m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z"></path>
            </svg>
          </a>
        </div>
      </div>
    </div>
    } @empty {
    <div>
      <app-loader />
    </div>

    }
  </div>
</generic-tab>
